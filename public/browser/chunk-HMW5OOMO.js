import{a as re,c as oe,d as le,e as ae,f as H,g as me,h as P,j as de}from"./chunk-PHA2QYQP.js";import{a as se,b as E,c as pe,d as ce,e as ue,f as fe,g as ge,h as ve,j as he,k as U}from"./chunk-W4HBWLMM.js";import{$ as D,A as Z,C as m,D as u,H as s,J as d,L as o,M as r,N as b,Q as $,R as h,S as C,T as ee,U as l,V as A,W as p,Y as x,Z as te,_ as F,a as W,aa as N,ba as ie,ga as ne,ha as I,ia as O,ja as M,k as X,l as k,la as B,n as Y,na as G,oa as y,q as v,qa as f,r as R,v as V,w as q}from"./chunk-LWO5CEWS.js";var ye=t=>["/meal/detail",t],Ee=t=>["/meal/edit",t],xe=(()=>{let e=class e{constructor(){this.delete=new Z}onDeleteMeal(){this.meal.id&&this.delete.emit(this.meal.id)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=v({type:e,selectors:[["app-meal-list-item"]],inputs:{meal:"meal"},outputs:{delete:"delete"},standalone:!0,features:[x],decls:17,vars:10,consts:[[1,"p-4","border","rounded","shadow"],[1,"flex","justify-between","items-center"],[1,"text-xl","font-semibold"],[1,"text-blue-500","hover:underline",3,"routerLink"],[1,"text-gray-600"],[1,"flex","space-x-2"],[1,"px-4","py-2","bg-blue-500","text-white","rounded","hover:bg-blue-600","focus:outline-none","focus:ring-2","focus:ring-blue-400",3,"routerLink"],[1,"px-4","py-2","bg-red-500","text-white","rounded","hover:bg-red-600","focus:outline-none","focus:ring-2","focus:ring-red-400",3,"click"]],template:function(i,a){i&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h3",2)(4,"a",3),l(5),r()(),o(6,"p",4),l(7),r(),o(8,"p",4),l(9),r(),o(10,"p",4),l(11),r()(),o(12,"div",5)(13,"a",6),l(14,"Edit"),r(),o(15,"button",7),h("click",function(){return a.onDeleteMeal()}),l(16," Delete "),r()()()()),i&2&&(m(4),d("routerLink",F(6,ye,a.meal.id)),m(),A(a.meal.mealName),m(2),p("",a.meal.calories," calories"),m(2),p("Description: ",a.meal.description,""),m(2),p("Ingredients: ",a.meal.ingredients,""),m(2),d("routerLink",F(8,Ee,a.meal.id)))},dependencies:[f,y]});let t=e;return t})();var _=(()=>{let e=class e{constructor(n){this.firestore=n}addMeal(n){let i=H(this.firestore,"meals");return ae(i,n).then(()=>{})}getMeals(){let n=H(this.firestore,"meals");return oe(n,{idField:"id"})}getMeal(n){let i=P(this.firestore,`meals/${n}`);return le(i,{idField:"id"})}updateMeal(n,i){let a=P(this.firestore,`meals/${n}`);return de(a,W({},i))}deleteMeal(n){let i=P(this.firestore,`meals/${n}`);return me(i)}};e.\u0275fac=function(i){return new(i||e)(Y(re))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Se=()=>["/meal/add"];function _e(t,e){t&1&&(o(0,"li",7),l(1,"Loading..."),r())}function Ce(t,e){if(t&1){let c=$();o(0,"li")(1,"app-meal-list-item",8),h("delete",function(i){V(c);let a=C();return q(a.deleteMeal(i))}),r()()}if(t&2){let c=e.$implicit;m(),d("meal",c)}}var z=(()=>{let e=class e{constructor(n){this.mealService=n}ngOnInit(){this.meals$=this.mealService.getMeals()}deleteMeal(n){this.mealService.deleteMeal(n).then(()=>{console.log("Meal deleted successfully")}).catch(i=>{console.error("Error deleting meal:",i)})}};e.\u0275fac=function(i){return new(i||e)(u(_))},e.\u0275cmp=v({type:e,selectors:[["app-meal-list"]],standalone:!0,features:[x],decls:11,vars:8,consts:[[1,"container","mx-auto","px-4","py-6"],[1,"text-2xl","font-bold","mb-4"],[1,"space-y-4"],["class","text-center py-6",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"mt-6"],[1,"px-4","py-2","bg-green-500","text-white","rounded","hover:bg-green-600","focus:outline-none","focus:ring-2","focus:ring-green-400",3,"routerLink"],[1,"text-center","py-6"],[3,"delete","meal"]],template:function(i,a){i&1&&(o(0,"div",0)(1,"h2",1),l(2,"Meal List"),r(),o(3,"ul",2),s(4,_e,2,0,"li",3),D(5,"async"),s(6,Ce,2,1,"li",4),D(7,"async"),r(),o(8,"div",5)(9,"a",6),l(10,"Add New Meal"),r()()()),i&2&&(m(4),d("ngIf",!N(5,3,a.meals$)),m(2),d("ngForOf",N(7,5,a.meals$)),m(3),d("routerLink",te(7,Se)))},dependencies:[M,ne,I,O,f,y,xe]});let t=e;return t})();var Fe=t=>["/meal/edit",t];function De(t,e){if(t&1){let c=$();o(0,"div",3)(1,"h2",4),l(2),r(),o(3,"p",5)(4,"strong"),l(5,"Calories:"),r(),l(6),r(),o(7,"p",5)(8,"strong"),l(9,"Description:"),r(),l(10),r(),o(11,"p",5)(12,"strong"),l(13,"Ingredients:"),r(),l(14),r(),o(15,"p",5)(16,"strong"),l(17,"Date:"),r(),l(18),r(),o(19,"div",6)(20,"button",7),l(21," Edit "),r(),o(22,"button",8),h("click",function(){V(c);let i=C();return q(i.deleteMeal())}),l(23," Delete "),r()()()}if(t&2){let c=e.ngIf,n=C();m(2),A(c.mealName),m(4),p(" ",c.calories," "),m(4),p(" ",c.description," "),m(4),p(" ",c.ingredients," "),m(4),p(" ",c.date,""),m(2),d("routerLink",F(6,Fe,n.mealId))}}function Ne(t,e){t&1&&(o(0,"p",9),l(1,"Loading meal details..."),r())}var be=(()=>{let e=class e{constructor(n,i,a){this.mealService=n,this.route=i,this.router=a}ngOnInit(){this.route.paramMap.subscribe(n=>{this.mealId=n.get("id")||"",this.mealId&&(this.meal$=this.mealService.getMeal(this.mealId))})}deleteMeal(){this.mealId&&this.mealService.deleteMeal(this.mealId).then(()=>{this.router.navigate(["/meal/list"])}).catch(n=>{console.error("Error deleting meal:",n)})}};e.\u0275fac=function(i){return new(i||e)(u(_),u(B),u(G))},e.\u0275cmp=v({type:e,selectors:[["app-meal-detail"]],standalone:!0,features:[x],decls:5,vars:4,consts:[["loading",""],[1,"container","mx-auto","px-4","py-8"],["class","bg-white shadow-md rounded-lg p-6",4,"ngIf","ngIfElse"],[1,"bg-white","shadow-md","rounded-lg","p-6"],[1,"text-2xl","font-bold","mb-4"],[1,"text-gray-700","mb-2"],[1,"mt-6","flex","justify-end","space-x-4"],[1,"px-4","py-2","bg-blue-500","text-white","rounded",3,"routerLink"],[1,"px-4","py-2","bg-red-500","text-white","rounded",3,"click"],[1,"text-gray-500"]],template:function(i,a){if(i&1&&(o(0,"div",1),s(1,De,24,8,"div",2),D(2,"async"),s(3,Ne,2,0,"ng-template",null,0,ie),r()),i&2){let g=ee(4);m(),d("ngIf",N(2,2,a.meal$))("ngIfElse",g)}},dependencies:[M,I,O,U,f,y]});let t=e;return t})();function we(t,e){t&1&&(o(0,"div",17),l(1," Meal Name is required. "),r())}function Le(t,e){t&1&&(o(0,"div",17),l(1," Calories are required. "),r())}function Te(t,e){t&1&&(o(0,"div",17),l(1," Description is required. "),r())}function je(t,e){t&1&&(o(0,"div",17),l(1," Ingredients are required. "),r())}function ke(t,e){t&1&&(o(0,"div",17),l(1," Date is required. "),r())}var Q=(()=>{let e=class e{constructor(n,i,a,g){this.fb=n,this.mealService=i,this.route=a,this.router=g,this.mealId=null,this.isEditMode=!1,this.mealForm=this.fb.group({mealName:["",E.required],calories:["",E.required],description:["",E.required],ingredients:["",E.required],date:["",E.required]})}ngOnInit(){this.route.paramMap.subscribe(n=>{this.mealId=n.get("id"),this.mealId&&(this.isEditMode=!0,this.getMeal(this.mealId))})}getMeal(n){this.mealService.getMeal(n).subscribe(i=>{i&&this.mealForm.patchValue(i)})}onSubmit(){if(this.mealForm.valid){let n=this.mealForm.value;this.isEditMode&&this.mealId?this.mealService.updateMeal(this.mealId,n).then(()=>{this.router.navigate(["/meal/list"])}).catch(i=>{console.error("Error updating meal:",i)}):this.mealService.addMeal(n).then(()=>{this.router.navigate(["/meal/list"])}).catch(i=>{console.error("Error adding meal:",i)})}}};e.\u0275fac=function(i){return new(i||e)(u(he),u(_),u(B),u(G))},e.\u0275cmp=v({type:e,selectors:[["app-meal-form"]],standalone:!0,features:[x],decls:32,vars:8,consts:[[1,"container","mx-auto","px-4","py-8"],[1,"text-2xl","font-bold","mb-4"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"flex","flex-col"],["for","mealName",1,"mb-1","text-sm","font-medium"],["id","mealName","formControlName","mealName","type","text","placeholder","Enter meal name",1,"p-2","border","rounded"],["class","text-red-500 text-sm",4,"ngIf"],["for","calories",1,"mb-1","text-sm","font-medium"],["id","calories","formControlName","calories","type","number","placeholder","Enter calories",1,"p-2","border","rounded"],["for","description",1,"mb-1","text-sm","font-medium"],["id","description","formControlName","description","rows","4","placeholder","Enter description",1,"p-2","border","rounded"],["for","ingredients",1,"mb-1","text-sm","font-medium"],["id","ingredients","formControlName","ingredients","rows","4","placeholder","Enter ingredients",1,"p-2","border","rounded"],["for","date",1,"mb-1","text-sm","font-medium"],["id","date","formControlName","date","type","date",1,"p-2","border","rounded"],[1,"flex","justify-end"],["type","submit",1,"px-4","py-2","bg-green-500","text-white","rounded"],[1,"text-red-500","text-sm"]],template:function(i,a){if(i&1&&(o(0,"div",0)(1,"h2",1),l(2),r(),o(3,"form",2),h("ngSubmit",function(){return a.onSubmit()}),o(4,"div",3)(5,"label",4),l(6,"Meal Name"),r(),b(7,"input",5),s(8,we,2,0,"div",6),r(),o(9,"div",3)(10,"label",7),l(11,"Calories"),r(),b(12,"input",8),s(13,Le,2,0,"div",6),r(),o(14,"div",3)(15,"label",9),l(16,"Description"),r(),b(17,"textarea",10),s(18,Te,2,0,"div",6),r(),o(19,"div",3)(20,"label",11),l(21,"Ingredients"),r(),b(22,"textarea",12),s(23,je,2,0,"div",6),r(),o(24,"div",3)(25,"label",13),l(26,"Date"),r(),b(27,"input",14),s(28,ke,2,0,"div",6),r(),o(29,"div",15)(30,"button",16),l(31),r()()()()),i&2){let g,w,L,T,j;m(2),p(" ",a.isEditMode?"Update Meal":"Add New Meal"," "),m(),d("formGroup",a.mealForm),m(5),d("ngIf",((g=a.mealForm.get("mealName"))==null?null:g.invalid)&&((g=a.mealForm.get("mealName"))==null?null:g.touched)),m(5),d("ngIf",((w=a.mealForm.get("calories"))==null?null:w.invalid)&&((w=a.mealForm.get("calories"))==null?null:w.touched)),m(5),d("ngIf",((L=a.mealForm.get("description"))==null?null:L.invalid)&&((L=a.mealForm.get("description"))==null?null:L.touched)),m(5),d("ngIf",((T=a.mealForm.get("ingredients"))==null?null:T.invalid)&&((T=a.mealForm.get("ingredients"))==null?null:T.touched)),m(5),d("ngIf",((j=a.mealForm.get("date"))==null?null:j.invalid)&&((j=a.mealForm.get("date"))==null?null:j.touched)),m(3),p(" ",a.isEditMode?"Update Meal":"Save Meal"," ")}},dependencies:[M,I,U,ue,se,fe,pe,ce,ge,ve,f]});let t=e;return t})();var Re=[{path:"list",component:z},{path:"detail/:id",component:be},{path:"add",component:Q},{path:"edit/:id",component:Q},{path:"",redirectTo:"list",pathMatch:"full"},{path:"**",redirectTo:"list"}],Ie=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=R({type:e}),e.\u0275inj=k({imports:[f.forChild(Re),f]});let t=e;return t})();var ct=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=R({type:e}),e.\u0275inj=k({imports:[M,Ie,z]});let t=e;return t})();export{ct as MealModule};
